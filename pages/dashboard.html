<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸ¤– CodeQuest AI Dashboard - Trung TÃ¢m Äiá»u Khiá»ƒn ThÃ´ng Minh</title>
    <link rel="stylesheet" href="../assets/css/dashboard.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/editor/editor.main.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- AI Matrix Background -->
    <div class="ai-matrix-bg">
      <div class="matrix-rain"></div>
      <div class="neural-network"></div>
      <div class="data-streams"></div>
    </div>

    <!-- Header - AI Command Center -->
    <header class="site_header">
      <div class="container_header">
        <div class="logo_header">
          <img
            onclick="location.href='home.html'"
            src="../assets/image/logo.png"
            alt="Logo"
            class="logo-animate"
          />
          <a href="home.html">CodeQuest</a>
          <span class="ai-indicator">ğŸ¤– AI POWERED</span>
        </div>

        <!-- AI Stats Hub -->
        <div class="ai-stats-hub">
          <div class="stat-module level">
            <div class="stat-icon">ğŸ†</div>
            <div class="stat-data">
              <span class="stat-value" id="user-level">1</span>
              <span class="stat-label">Level</span>
            </div>
            <div class="stat-progress">
              <div
                class="progress-fill"
                id="level-progress"
                style="width: 25%"
              ></div>
            </div>
          </div>

          <div class="stat-module xp">
            <div class="stat-icon">âš¡</div>
            <div class="stat-data">
              <span class="stat-value" id="user-xp">150</span>
              <span class="stat-label">XP</span>
            </div>
            <div class="stat-progress">
              <div
                class="progress-fill"
                id="xp-progress"
                style="width: 60%"
              ></div>
            </div>
          </div>

          <div class="stat-module streak">
            <div class="stat-icon">ğŸ”¥</div>
            <div class="stat-data">
              <span class="stat-value" id="user-streak">7</span>
              <span class="stat-label">Streak</span>
            </div>
            <div class="stat-progress">
              <div
                class="progress-fill"
                id="streak-progress"
                style="width: 70%"
              ></div>
            </div>
          </div>

          <div class="stat-module points">
            <div class="stat-icon">ğŸ’</div>
            <div class="stat-data">
              <span class="stat-value" id="user-points">2450</span>
              <span class="stat-label">Points</span>
            </div>
            <div class="stat-progress">
              <div
                class="progress-fill"
                id="points-progress"
                style="width: 85%"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- AI Navigation Command -->
    <nav class="ai-nav-command">
      <div class="nav-container">
        <!-- Language Selection AI -->
        <div class="language-ai-selector">
          <div class="selector-label">
            <span class="ai-icon">ğŸ§ </span>
            <span>AI sáº½ dáº¡y báº¡n</span>
          </div>
          <select
            id="language-select"
            class="ai-language-select"
            onchange="selectLanguageWithAI(this.value)"
          >
            <option value="Python">ğŸ Python - NgÃ´n ngá»¯ Ä‘a nÄƒng</option>
            <option value="JavaScript">âš¡ JavaScript - Vua cá»§a Web</option>
            <option value="Java">â˜• Java - Sá»©c máº¡nh doanh nghiá»‡p</option>
            <option value="C++">ğŸš€ C++ - Tá»‘c Ä‘á»™ Ã¡nh sÃ¡ng</option>
            <option value="Rust">ğŸ¦€ Rust - Báº£o vá»‡ bá»™ nhá»›</option>
          </select>
        </div>

        <!-- AI Navigation Modes -->
        <div class="ai-nav-modes">
          <button
            class="nav-mode active"
            onclick="activateAIMode('learning')"
            data-mode="learning"
          >
            <div class="mode-icon">ğŸ“</div>
            <span class="mode-text">AI Giáº£ng Dáº¡y</span>
            <div class="ai-activity-dot"></div>
          </button>

          <button
            class="nav-mode"
            onclick="activateAIMode('practice')"
            data-mode="practice"
          >
            <div class="mode-icon">âš”ï¸</div>
            <span class="mode-text">AI ThÃ¡ch Äáº¥u</span>
            <div class="ai-activity-dot"></div>
          </button>

          <button
            class="nav-mode"
            onclick="activateAIMode('quiz')"
            data-mode="quiz"
          >
            <div class="mode-icon">ğŸ§©</div>
            <span class="mode-text">AI Kiá»ƒm Tra</span>
            <div class="ai-activity-dot"></div>
          </button>

          <button
            class="nav-mode"
            onclick="activateAIMode('analysis')"
            data-mode="analysis"
          >
            <div class="mode-icon">ğŸ“Š</div>
            <span class="mode-text">AI PhÃ¢n TÃ­ch</span>
            <div class="ai-activity-dot"></div>
          </button>

          <button
            class="nav-mode"
            onclick="activateAIMode('leaderboard')"
            data-mode="leaderboard"
          >
            <div class="mode-icon">ğŸ‘‘</div>
            <span class="mode-text">Báº£ng Xáº¿p Háº¡ng</span>
            <div class="ai-activity-dot"></div>
          </button>
        </div>
      </div>
    </nav>

    <!-- Main AI Dashboard -->
    <main class="ai-dashboard-main">
      <!-- AI Learning Mode -->
      <section id="learning-section" class="ai-section active">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">ğŸ¤–</span>
            AI Giáº£ng Dáº¡y ThÃ´ng Minh
          </h2>
          <p class="section-subtitle">
            AI sáº½ dáº¡y báº¡n tá»«ng bÆ°á»›c má»™t cÃ¡ch thÃ´ng minh vÃ  cÃ¡ nhÃ¢n hÃ³a
          </p>
        </div>

        <div class="ai-learning-interface">
          <!-- AI Tutor Panel -->
          <div class="ai-tutor-panel">
            <div class="tutor-header">
              <div class="ai-avatar-tutor">ğŸ¤–</div>
              <div class="tutor-info">
                <h3>AI Tutor</h3>
                <span class="tutor-status"
                  >Äang phÃ¢n tÃ­ch level cá»§a báº¡n...</span
                >
              </div>
              <div class="tutor-controls">
                <button class="tutor-btn" onclick="askAITutor()">
                  ğŸ’¬ Há»i AI
                </button>
                <button class="tutor-btn" onclick="getAIHint()">
                  ğŸ’¡ Gá»£i Ã½
                </button>
              </div>
            </div>

            <div class="learning-topics-ai">
              <h4>ğŸ¯ Chá»§ Ä‘á» AI Ä‘á» xuáº¥t cho báº¡n:</h4>
              <div class="topics-grid">
                <div
                  class="topic-card ai-recommended"
                  onclick="startAILesson('variables')"
                >
                  <div class="topic-icon">ğŸ”¤</div>
                  <h5>Biáº¿n & Kiá»ƒu Dá»¯ Liá»‡u</h5>
                  <p>AI sáº½ dáº¡y báº¡n cÃ¡ch lÆ°u trá»¯ thÃ´ng tin</p>
                  <div class="ai-confidence">AI Confidence: 95%</div>
                  <div class="difficulty-ai">Dá»…</div>
                </div>

                <div class="topic-card" onclick="startAILesson('functions')">
                  <div class="topic-icon">âš™ï¸</div>
                  <h5>HÃ m & Chá»©c NÄƒng</h5>
                  <p>XÃ¢y dá»±ng cÃ¡c khá»‘i code tÃ¡i sá»­ dá»¥ng</p>
                  <div class="ai-confidence">AI Confidence: 87%</div>
                  <div class="difficulty-ai">Trung BÃ¬nh</div>
                </div>

                <div class="topic-card" onclick="startAILesson('loops')">
                  <div class="topic-icon">ğŸ”„</div>
                  <h5>VÃ²ng Láº·p</h5>
                  <p>Tá»± Ä‘á»™ng hÃ³a cÃ¡c tÃ¡c vá»¥ láº·p láº¡i</p>
                  <div class="ai-confidence">AI Confidence: 78%</div>
                  <div class="difficulty-ai">Trung BÃ¬nh</div>
                </div>

                <div class="topic-card" onclick="startAILesson('algorithms')">
                  <div class="topic-icon">ğŸ§ </div>
                  <h5>Thuáº­t ToÃ¡n</h5>
                  <p>TÆ° duy giáº£i quyáº¿t váº¥n Ä‘á»</p>
                  <div class="ai-confidence">AI Confidence: 65%</div>
                  <div class="difficulty-ai">KhÃ³</div>
                </div>
              </div>
            </div>
          </div>

          <!-- AI Lesson Display -->
          <div class="ai-lesson-display">
            <div class="lesson-header">
              <h3 id="lesson-title">ChÃ o má»«ng Ä‘áº¿n vá»›i AI Tutor! ğŸ‘‹</h3>
              <div class="lesson-controls">
                <button class="lesson-btn" onclick="toggleAIExplanation()">
                  ğŸ”Š AI Giáº£i ThÃ­ch
                </button>
                <button class="lesson-btn" onclick="getPersonalizedHelp()">
                  ğŸ¯ Trá»£ GiÃºp CÃ¡ NhÃ¢n
                </button>
              </div>
            </div>

            <div class="lesson-content" id="lesson-content">
              <div class="ai-welcome-message">
                <div class="ai-mascot">ğŸ¤–</div>
                <div class="welcome-text">
                  <h4>Xin chÃ o! TÃ´i lÃ  AI Tutor cá»§a báº¡n ğŸš€</h4>
                  <p>
                    TÃ´i sáº½ phÃ¢n tÃ­ch kháº£ nÄƒng cá»§a báº¡n vÃ  táº¡o ra lá»™ trÃ¬nh há»c táº­p
                    cÃ¡ nhÃ¢n hÃ³a. HÃ£y chá»n má»™t chá»§ Ä‘á» Ä‘á»ƒ báº¯t Ä‘áº§u!
                  </p>
                  <div class="ai-features">
                    <span class="feature">âœ¨ Há»c thÃ­ch á»©ng</span>
                    <span class="feature">ğŸ¯ CÃ¡ nhÃ¢n hÃ³a</span>
                    <span class="feature">ğŸ“Š Theo dÃµi tiáº¿n Ä‘á»™</span>
                    <span class="feature">ğŸ’¬ Há»— trá»£ 24/7</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- AI Practice Mode -->
      <section id="practice-section" class="ai-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">âš”ï¸</span>
            AI ThÃ¡ch Äáº¥u Coding
          </h2>
          <p class="section-subtitle">
            AI sáº½ táº¡o ra cÃ¡c thá»­ thÃ¡ch phÃ¹ há»£p vá»›i trÃ¬nh Ä‘á»™ cá»§a báº¡n
          </p>
        </div>

        <div class="ai-practice-arena">
          <!-- Challenge Generator -->
          <div class="challenge-generator">
            <div class="generator-header">
              <h3>ğŸ¯ AI Challenge Generator</h3>
              <div class="ai-thinking-indicator">
                <div class="thinking-dots">
                  <span></span><span></span><span></span>
                </div>
                <span>AI Ä‘ang táº¡o thá»­ thÃ¡ch...</span>
              </div>
            </div>

            <div class="difficulty-selector">
              <h4>Chá»n Ä‘á»™ khÃ³ (AI sáº½ Ä‘iá»u chá»‰nh):</h4>
              <div class="difficulty-options">
                <button
                  class="difficulty-btn easy"
                  onclick="generateAIChallenge('easy')"
                >
                  <span class="diff-icon">ğŸŸ¢</span>
                  <span>Dá»…</span>
                  <span class="ai-note">AI sáº½ hÆ°á»›ng dáº«n chi tiáº¿t</span>
                </button>
                <button
                  class="difficulty-btn medium"
                  onclick="generateAIChallenge('medium')"
                >
                  <span class="diff-icon">ğŸŸ¡</span>
                  <span>Trung BÃ¬nh</span>
                  <span class="ai-note">AI sáº½ cho gá»£i Ã½ khi cáº§n</span>
                </button>
                <button
                  class="difficulty-btn hard"
                  onclick="generateAIChallenge('hard')"
                >
                  <span class="diff-icon">ğŸ”´</span>
                  <span>KhÃ³</span>
                  <span class="ai-note">AI chá»‰ can thiá»‡p khi báº¡n yÃªu cáº§u</span>
                </button>
              </div>
            </div>

            <div class="challenge-display" id="challenge-display">
              <div class="challenge-placeholder">
                <div class="placeholder-icon">ğŸ²</div>
                <h4>Sáºµn sÃ ng cho thá»­ thÃ¡ch AI?</h4>
                <p>Chá»n Ä‘á»™ khÃ³ Ä‘á»ƒ AI táº¡o ra thá»­ thÃ¡ch phÃ¹ há»£p vá»›i báº¡n</p>
              </div>
            </div>
          </div>

          <!-- AI Coding Arena -->
          <div class="ai-coding-arena">
            <div class="arena-header">
              <h3>ğŸ’» AI Coding Arena</h3>
              <div class="arena-controls">
                <button class="arena-btn" onclick="runCodeWithAI()">
                  â–¶ï¸ Cháº¡y & AI ÄÃ¡nh GiÃ¡
                </button>
                <button class="arena-btn" onclick="submitToAI()">
                  ğŸš€ Ná»™p cho AI
                </button>
                <button class="arena-btn" onclick="getAIHelp()">
                  ğŸ†˜ AI Trá»£ GiÃºp
                </button>
              </div>
            </div>

            <div class="code-editor-container">
              <div id="ai-code-editor" class="ai-code-editor"></div>
            </div>

            <div class="ai-feedback-panel">
              <div class="feedback-header">
                <span class="feedback-icon">ğŸ¤–</span>
                <span>AI Feedback Real-time</span>
              </div>
              <div class="feedback-content" id="ai-feedback">
                <p>AI sáº½ Ä‘Æ°a ra pháº£n há»“i khi báº¡n viáº¿t code...</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- AI Quiz Mode -->
      <section id="quiz-section" class="ai-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">ğŸ§©</span>
            AI Quiz ThÃ´ng Minh
          </h2>
          <p class="section-subtitle">
            AI táº¡o cÃ¢u há»i dá»±a trÃªn nhá»¯ng gÃ¬ báº¡n Ä‘Ã£ há»c
          </p>
        </div>

        <div class="ai-quiz-system">
          <div class="quiz-stats">
            <div class="stat-card">
              <div class="stat-icon">ğŸ¯</div>
              <div class="stat-info">
                <span class="stat-number" id="quiz-accuracy">0%</span>
                <span class="stat-label">Äá»™ chÃ­nh xÃ¡c</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">âš¡</div>
              <div class="stat-info">
                <span class="stat-number" id="quiz-speed">0s</span>
                <span class="stat-label">Tá»‘c Ä‘á»™ trung bÃ¬nh</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">ğŸ†</div>
              <div class="stat-info">
                <span class="stat-number" id="quiz-score">0</span>
                <span class="stat-label">Äiá»ƒm sá»‘</span>
              </div>
            </div>
          </div>

          <div class="quiz-arena">
            <div class="quiz-question-panel" id="quiz-panel">
              <div class="quiz-intro">
                <div class="intro-icon">ğŸ§ </div>
                <h3>AI Quiz Generator</h3>
                <p>
                  AI sáº½ táº¡o ra cÃ¡c cÃ¢u há»i thÃ´ng minh dá»±a trÃªn kháº£ nÄƒng vÃ  tiáº¿n
                  Ä‘á»™ há»c táº­p cá»§a báº¡n
                </p>
                <button class="start-quiz-btn" onclick="startAIQuiz()">
                  ğŸš€ Báº¯t Ä‘áº§u AI Quiz
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- AI Analysis Mode -->
      <section id="analysis-section" class="ai-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">ğŸ“Š</span>
            AI PhÃ¢n TÃ­ch Tiáº¿n Äá»™
          </h2>
          <p class="section-subtitle">
            AI phÃ¢n tÃ­ch toÃ n diá»‡n kháº£ nÄƒng vÃ  Ä‘Æ°a ra lá»i khuyÃªn
          </p>
        </div>

        <div class="ai-analysis-dashboard">
          <!-- Learning Path AI -->
          <div class="learning-path-ai">
            <h3>ğŸ›¤ï¸ Lá»™ TrÃ¬nh Há»c AI Äá» Xuáº¥t</h3>
            <div class="path-visualization">
              <div class="path-node completed">
                <div class="node-icon">âœ…</div>
                <span>Biáº¿n & Kiá»ƒu Dá»¯ Liá»‡u</span>
              </div>
              <div class="path-connection"></div>
              <div class="path-node current">
                <div class="node-icon">ğŸ”„</div>
                <span>HÃ m & Chá»©c NÄƒng</span>
              </div>
              <div class="path-connection"></div>
              <div class="path-node future">
                <div class="node-icon">â³</div>
                <span>VÃ²ng Láº·p</span>
              </div>
              <div class="path-connection"></div>
              <div class="path-node future">
                <div class="node-icon">â³</div>
                <span>Thuáº­t ToÃ¡n</span>
              </div>
            </div>
          </div>

          <!-- AI Insights -->
          <div class="ai-insights">
            <h3>ğŸ” AI Insights</h3>
            <div class="insights-grid">
              <div class="insight-card strength">
                <div class="insight-icon">ğŸ’ª</div>
                <h4>Äiá»ƒm Máº¡nh</h4>
                <ul>
                  <li>Hiá»ƒu rÃµ vá» biáº¿n</li>
                  <li>Logic tÆ° duy tá»‘t</li>
                  <li>Ghi nhá»› syntax nhanh</li>
                </ul>
              </div>
              <div class="insight-card improvement">
                <div class="insight-icon">ğŸ“ˆ</div>
                <h4>Cáº§n Cáº£i Thiá»‡n</h4>
                <ul>
                  <li>Thuáº­t toÃ¡n phá»©c táº¡p</li>
                  <li>Debug code</li>
                  <li>Tá»‘i Æ°u hÃ³a code</li>
                </ul>
              </div>
              <div class="insight-card recommendation">
                <div class="insight-icon">ğŸ¯</div>
                <h4>AI KhuyÃªn Báº¡n</h4>
                <ul>
                  <li>Táº­p trung vÃ o functions</li>
                  <li>Luyá»‡n táº­p debug</li>
                  <li>Äá»c code ngÆ°á»i khÃ¡c</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Leaderboard Section -->
      <section id="leaderboard-section" class="ai-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">ğŸ‘‘</span>
            Báº£ng Xáº¿p Háº¡ng AI
          </h2>
          <p class="section-subtitle">
            Xem vá»‹ trÃ­ cá»§a báº¡n vÃ  cáº¡nh tranh vá»›i nhá»¯ng AI learners khÃ¡c
          </p>
        </div>

        <div class="leaderboard-container">
          <div class="ranking-filters">
            <button class="filter-btn active" onclick="filterRanking('all')">
              Tá»•ng Thá»ƒ
            </button>
            <button class="filter-btn" onclick="filterRanking('weekly')">
              Tuáº§n NÃ y
            </button>
            <button class="filter-btn" onclick="filterRanking('monthly')">
              ThÃ¡ng NÃ y
            </button>
          </div>

          <div class="top-performers">
            <div class="podium">
              <div class="podium-place second">
                <div class="place-avatar">ğŸ‘¨â€ğŸ’»</div>
                <div class="place-name">CodeNinja</div>
                <div class="place-score">2,450</div>
                <div class="place-medal">ğŸ¥ˆ</div>
              </div>
              <div class="podium-place first">
                <div class="place-avatar">ğŸ¤–</div>
                <div class="place-name">AI Master</div>
                <div class="place-score">3,200</div>
                <div class="place-medal">ğŸ¥‡</div>
              </div>
              <div class="podium-place third">
                <div class="place-avatar">ğŸš€</div>
                <div class="place-name">SpeedCoder</div>
                <div class="place-score">2,100</div>
                <div class="place-medal">ğŸ¥‰</div>
              </div>
            </div>
          </div>

          <div class="ranking-list">
            <div class="ranking-header">
              <span>Háº¡ng</span>
              <span>TÃªn</span>
              <span>Äiá»ƒm</span>
              <span>Level</span>
              <span>Tiáº¿n Äá»™</span>
            </div>
            <div class="ranking-body" id="ranking-list">
              <!-- Rankings will be populated by AI -->
            </div>
          </div>
        </div>
      </section>

      <!-- Chá»©c nÄƒng thÃº vá»‹ -->
      <section class="fun-zone">
        <div class="section-title">
          <h2>ğŸ‰ Khu vá»±c giáº£i trÃ­</h2>
          <p>Nhá»¯ng hoáº¡t Ä‘á»™ng thÃº vá»‹ Ä‘á»ƒ há»c láº­p trÃ¬nh khÃ´ng chÃ¡n!</p>
        </div>

        <div class="fun-activities">
          <!-- Code Battle -->
          <div class="activity-card battle-card" onclick="startCodeBattle()">
            <div class="card-header">
              <div class="activity-icon">âš”ï¸</div>
              <h3>Code Battle</h3>
              <div class="live-indicator">LIVE</div>
            </div>
            <p>ThÃ¡ch Ä‘áº¥u láº­p trÃ¬nh 1v1 vá»›i báº¡n bÃ¨</p>
            <div class="stats">
              <span>ğŸ† 12 tháº¯ng</span>
              <span>ğŸ”¥ Streak: 5</span>
            </div>
            <button class="action-btn">Báº¯t Ä‘áº§u Ä‘áº¥u!</button>
          </div>

          <!-- Speed Coding -->
          <div class="activity-card speed-card" onclick="startSpeedCoding()">
            <div class="card-header">
              <div class="activity-icon">âš¡</div>
              <h3>Speed Coding</h3>
              <div class="hot-badge">HOT</div>
            </div>
            <p>Thá»­ thÃ¡ch tá»‘c Ä‘á»™ gÃµ code - cÃ ng nhanh cÃ ng tá»‘t!</p>
            <div class="stats">
              <span>â±ï¸ Best: 85 WPM</span>
              <span>ğŸ¯ 94% Ä‘á»™ chÃ­nh xÃ¡c</span>
            </div>
            <button class="action-btn">Thá»­ thÃ¡ch!</button>
          </div>

          <!-- Code Quiz -->
          <div class="activity-card quiz-card" onclick="startCodeQuiz()">
            <div class="card-header">
              <div class="activity-icon">ğŸ§©</div>
              <h3>Code Quiz</h3>
            </div>
            <p>Kiá»ƒm tra kiáº¿n thá»©c qua cÃ¢u há»i thÃº vá»‹</p>
            <div class="stats">
              <span>ğŸ… Level 12</span>
              <span>ğŸ’¡ 89% Ä‘Ãºng</span>
            </div>
            <button class="action-btn">LÃ m quiz</button>
          </div>

          <!-- Debugging Game -->
          <div class="activity-card debug-card" onclick="playDebuggingGame()">
            <div class="card-header">
              <div class="activity-icon">ğŸ</div>
              <h3>Debugging Game</h3>
            </div>
            <p>TÃ¬m vÃ  sá»­a lá»—i trong code nhÆ° thÃ¡m tá»­!</p>
            <div class="stats">
              <span>ğŸ” 67 bugs Ä‘Ã£ sá»­a</span>
              <span>â° Thá»i gian: 2m 15s</span>
            </div>
            <button class="action-btn">Báº¯t bug!</button>
          </div>

          <!-- Code Story -->
          <div class="activity-card story-card" onclick="createCodeStory()">
            <div class="card-header">
              <div class="activity-icon">ğŸ“š</div>
              <h3>Code Story</h3>
              <div class="creative-badge">SÃNG Táº O</div>
            </div>
            <p>Viáº¿t cÃ¢u chuyá»‡n báº±ng code - káº¿t há»£p láº­p trÃ¬nh vÃ  vÄƒn há»c</p>
            <div class="stats">
              <span>âœï¸ 4 cÃ¢u chuyá»‡n</span>
              <span>ğŸŒŸ 156 Ä‘á»c giáº£</span>
            </div>
            <button class="action-btn">Viáº¿t chuyá»‡n</button>
          </div>
        </div>
      </section>
    </main>

    <!-- AI Assistant Widget -->
    <div class="ai-assistant-widget" id="ai-assistant">
      <div class="assistant-trigger" onclick="toggleAIAssistant()">
        <div class="ai-pulse"></div>
        <span>ğŸ¤–</span>
      </div>
      <div class="assistant-panel" id="assistant-panel">
        <div class="assistant-header">
          <h4>AI Assistant</h4>
          <button onclick="closeAIAssistant()">Ã—</button>
        </div>
        <div class="assistant-chat" id="assistant-chat">
          <div class="chat-message ai-message">
            <span>ChÃ o báº¡n! TÃ´i cÃ³ thá»ƒ giÃºp gÃ¬ cho báº¡n? ğŸ¤–</span>
          </div>
        </div>
        <div class="assistant-input">
          <input
            type="text"
            id="ai-input"
            placeholder="Há»i AI báº¥t cá»© Ä‘iá»u gÃ¬..."
          />
          <button onclick="sendToAI()">Gá»­i</button>
        </div>
      </div>
    </div>

    <!-- AI Notification System -->
    <div class="ai-notifications" id="ai-notifications">
      <!-- Notifications will appear here -->
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>
    <script>
      // Language selection function
      function selectLanguageWithAI(language) {
        console.log(`ğŸ¤– AI switching to ${language}!`);

        // Update currentLanguage in dashboard.js
        if (typeof window.currentLanguage !== "undefined") {
          window.currentLanguage = language.toLowerCase();
        }

        // Update editor language
        if (window.aiEditor && window.aiEditor.getModel) {
          const languageMap = {
            Python: "python",
            JavaScript: "javascript",
            Java: "java",
            "C++": "cpp",
            Rust: "rust",
          };
          try {
            monaco.editor.setModelLanguage(
              window.aiEditor.getModel(),
              languageMap[language] || "python"
            );
          } catch (error) {
            console.log(
              "Language change will apply on next editor initialization"
            );
          }
        }
      }

      // These functions are now handled by dashboard.js
      // Keeping only essential HTML-specific functions here

      function toggleAIAssistant() {
        const panel = document.getElementById("assistant-panel");
        panel.classList.toggle("active");
      }

      function closeAIAssistant() {
        document.getElementById("assistant-panel").classList.remove("active");
      }

      function sendToAI() {
        const input = document.getElementById("ai-input");
        const chat = document.getElementById("assistant-chat");

        if (input.value.trim()) {
          // Add user message
          chat.innerHTML += `<div class="chat-message user-message"><span>${input.value}</span></div>`;

          // Simulate AI response
          setTimeout(() => {
            chat.innerHTML += `<div class="chat-message ai-message"><span>ğŸ¤– TÃ´i hiá»ƒu rá»“i! Äá»ƒ giÃºp báº¡n tá»‘t hÆ¡n, báº¡n cÃ³ thá»ƒ cung cáº¥p thÃªm chi tiáº¿t khÃ´ng?</span></div>`;
            chat.scrollTop = chat.scrollHeight;
          }, 1000);

          input.value = "";
          chat.scrollTop = chat.scrollHeight;
        }
      }

      // Initialize when page loads
      window.addEventListener("DOMContentLoaded", function () {
        initializeAIEditor();
        activateAIMode("learning");

        // Matrix rain effect
        createMatrixRain();

        // Start AI animations
        startAIAnimations();

        showAINotification(
          "ğŸ¤– ChÃ o má»«ng báº¡n Ä‘áº¿n vá»›i CodeQuest AI Dashboard!",
          "success"
        );
      });

      function createMatrixRain() {
        const matrixContainer = document.querySelector(".matrix-rain");
        const characters = "01";

        for (let i = 0; i < 50; i++) {
          const column = document.createElement("div");
          column.className = "matrix-column";
          column.style.left = Math.random() * 100 + "%";
          column.style.animationDelay = Math.random() * 5 + "s";
          column.style.animationDuration = Math.random() * 3 + 2 + "s";

          for (let j = 0; j < 20; j++) {
            const char = document.createElement("span");
            char.textContent =
              characters[Math.floor(Math.random() * characters.length)];
            char.style.opacity = Math.random();
            column.appendChild(char);
          }

          matrixContainer.appendChild(column);
        }
      }

      function startAIAnimations() {
        // Pulse AI indicators
        setInterval(() => {
          document.querySelectorAll(".ai-activity-dot").forEach((dot) => {
            dot.style.animation = "none";
            setTimeout(() => (dot.style.animation = "aiPulse 2s infinite"), 10);
          });
        }, 3000);
      }

      // ==================== FUN ZONE FUNCTIONS ====================

      function startCodeBattle() {
        window.location.href = "/games/code-battle";
      }

      function startSpeedCoding() {
        window.location.href = "/games/speed-coding";
      }

      function startCodeQuiz() {
        showNotification("ğŸ§  Khá»Ÿi Ä‘á»™ng Code Quiz...", "info");
        setTimeout(() => {
          window.location.href = "/games/code-quiz";
        }, 1000);
      }

      function playDebuggingGame() {
        window.location.href = "/games/debugging-game";
      }

      function createCodeStory() {
        window.location.href = "/games/code-story";
      }

      // Load leaderboard from games API
      async function loadGameLeaderboard() {
        try {
          const response = await fetch("/api/games/leaderboard");
          const data = await response.json();

          if (data.success) {
            updateLeaderboardDisplay(data.leaderboard);
          }
        } catch (error) {
          console.error("Error loading leaderboard:", error);
        }
      }

      function updateLeaderboardDisplay(leaderboard) {
        // Update podium (top 3)
        const podium = document.querySelector(".podium");
        if (podium && leaderboard.length >= 3) {
          const places = podium.querySelectorAll(".podium-place");

          // First place
          if (places[1]) {
            places[1].querySelector(".place-name").textContent =
              leaderboard[0].name;
            places[1].querySelector(".place-score").textContent =
              leaderboard[0].score;
          }

          // Second place
          if (places[0]) {
            places[0].querySelector(".place-name").textContent =
              leaderboard[1].name;
            places[0].querySelector(".place-score").textContent =
              leaderboard[1].score;
          }

          // Third place
          if (places[2]) {
            places[2].querySelector(".place-name").textContent =
              leaderboard[2].name;
            places[2].querySelector(".place-score").textContent =
              leaderboard[2].score;
          }
        }

        // Update ranking list
        const rankingList = document.querySelector(".ranking-list");
        if (rankingList) {
          const listItems = leaderboard
            .slice(3, 10)
            .map(
              (user, index) => `
            <div class="ranking-item">
              <span class="rank">${index + 4}</span>
              <span class="name">${user.name}</span>
              <span class="score">${user.score}</span>
              <span class="level">${Math.floor(user.score / 100)}</span>
            </div>
          `
            )
            .join("");

          // Find existing list content and update
          const existingList =
            rankingList.querySelector(".ranking-content") || rankingList;
          if (existingList !== rankingList) {
            existingList.innerHTML = listItems;
          } else {
            // Add after header if no content container exists
            const header = rankingList.querySelector(".ranking-header");
            if (header) {
              header.insertAdjacentHTML(
                "afterend",
                `<div class="ranking-content">${listItems}</div>`
              );
            }
          }
        }
      }

      function filterRanking(type) {
        // Update active filter button
        document
          .querySelectorAll(".filter-btn")
          .forEach((btn) => btn.classList.remove("active"));
        event.target.classList.add("active");

        // In a real app, you would fetch filtered data
        showNotification(
          `ğŸ“Š Hiá»ƒn thá»‹ báº£ng xáº¿p háº¡ng: ${
            type === "all"
              ? "Tá»•ng thá»ƒ"
              : type === "weekly"
              ? "Tuáº§n nÃ y"
              : "ThÃ¡ng nÃ y"
          }`,
          "info"
        );
        loadGameLeaderboard();
      }

      // Initialize leaderboard when page loads
      document.addEventListener("DOMContentLoaded", () => {
        loadGameLeaderboard();
      });

      // All AI functions are now handled by dashboard.js
    </script>
    <script src="../assets/js/dashboard.js"></script>
  </body>
</html>
