<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ü§ñ CodeQuest AI Dashboard - Trung T√¢m ƒêi·ªÅu Khi·ªÉn Th√¥ng Minh</title>
    <link rel="stylesheet" href="../assets/css/dashboard.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/editor/editor.main.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- AI Matrix Background -->
    <div class="ai-matrix-bg">
      <div class="matrix-rain"></div>
      <div class="neural-network"></div>
      <div class="data-streams"></div>
    </div>

    <!-- Header - AI Command Center -->
    <header class="site_header">
      <div class="container_header">
        <div class="logo_header">
          <img
            onclick="location.href='home.html'"
            src="../assets/image/logo.png"
            alt="Logo"
            class="logo-animate"
          />
          <a href="home.html">CodeQuest</a>
          <span class="ai-indicator">ü§ñ AI POWERED</span>
        </div>

        <!-- AI Stats Hub -->
        <div class="ai-stats-hub">
          <div class="stat-module level">
            <div class="stat-icon">üèÜ</div>
            <div class="stat-data">
              <span class="stat-value" id="user-level">1</span>
              <span class="stat-label">Level</span>
            </div>
            <div class="stat-progress">
              <div
                class="progress-fill"
                id="level-progress"
                style="width: 25%"
              ></div>
            </div>
          </div>

          <div class="stat-module xp">
            <div class="stat-icon">‚ö°</div>
            <div class="stat-data">
              <span class="stat-value" id="user-xp">150</span>
              <span class="stat-label">XP</span>
            </div>
            <div class="stat-progress">
              <div
                class="progress-fill"
                id="xp-progress"
                style="width: 60%"
              ></div>
            </div>
          </div>

          <div class="stat-module streak">
            <div class="stat-icon">üî•</div>
            <div class="stat-data">
              <span class="stat-value" id="user-streak">7</span>
              <span class="stat-label">Streak</span>
            </div>
            <div class="stat-progress">
              <div
                class="progress-fill"
                id="streak-progress"
                style="width: 70%"
              ></div>
            </div>
          </div>

          <div class="stat-module points">
            <div class="stat-icon">üíé</div>
            <div class="stat-data">
              <span class="stat-value" id="user-points">2450</span>
              <span class="stat-label">Points</span>
            </div>
            <div class="stat-progress">
              <div
                class="progress-fill"
                id="points-progress"
                style="width: 85%"
              ></div>
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- AI Navigation Command -->
    <nav class="ai-nav-command">
      <div class="nav-container">
        <!-- Language Selection AI -->
        <div class="language-ai-selector">
          <div class="selector-label">
            <span class="ai-icon">üß†</span>
            <span>AI s·∫Ω d·∫°y b·∫°n</span>
          </div>
          <select
            id="language-select"
            class="ai-language-select"
            onchange="selectLanguageWithAI(this.value)"
          >
            <option value="Python">üêç Python - Ng√¥n ng·ªØ ƒëa nƒÉng</option>
            <option value="JavaScript">‚ö° JavaScript - Vua c·ªßa Web</option>
            <option value="Java">‚òï Java - S·ª©c m·∫°nh doanh nghi·ªáp</option>
            <option value="C++">üöÄ C++ - T·ªëc ƒë·ªô √°nh s√°ng</option>
            <option value="Rust">ü¶Ä Rust - B·∫£o v·ªá b·ªô nh·ªõ</option>
          </select>
        </div>

        <!-- AI Navigation Modes -->
        <div class="ai-nav-modes">
          <button
            class="nav-mode active"
            onclick="activateAIMode('learning')"
            data-mode="learning"
          >
            <div class="mode-icon">üéì</div>
            <span class="mode-text">AI Gi·∫£ng D·∫°y</span>
            <div class="ai-activity-dot"></div>
          </button>

          <button
            class="nav-mode"
            onclick="activateAIMode('practice')"
            data-mode="practice"
          >
            <div class="mode-icon">‚öîÔ∏è</div>
            <span class="mode-text">AI Th√°ch ƒê·∫•u</span>
            <div class="ai-activity-dot"></div>
          </button>

          <button
            class="nav-mode"
            onclick="activateAIMode('quiz')"
            data-mode="quiz"
          >
            <div class="mode-icon">üß©</div>
            <span class="mode-text">AI Ki·ªÉm Tra</span>
            <div class="ai-activity-dot"></div>
          </button>

          <button
            class="nav-mode"
            onclick="activateAIMode('analysis')"
            data-mode="analysis"
          >
            <div class="mode-icon">üìä</div>
            <span class="mode-text">AI Ph√¢n T√≠ch</span>
            <div class="ai-activity-dot"></div>
          </button>

          <button
            class="nav-mode"
            onclick="activateAIMode('leaderboard')"
            data-mode="leaderboard"
          >
            <div class="mode-icon">üëë</div>
            <span class="mode-text">B·∫£ng X·∫øp H·∫°ng</span>
            <div class="ai-activity-dot"></div>
          </button>
        </div>
      </div>
    </nav>

    <!-- Main AI Dashboard -->
    <main class="ai-dashboard-main">
      <!-- AI Learning Mode -->
      <section id="learning-section" class="ai-section active">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">ü§ñ</span>
            AI Gi·∫£ng D·∫°y Th√¥ng Minh
          </h2>
          <p class="section-subtitle">
            AI s·∫Ω d·∫°y b·∫°n t·ª´ng b∆∞·ªõc m·ªôt c√°ch th√¥ng minh v√† c√° nh√¢n h√≥a
          </p>
        </div>

        <div class="ai-learning-interface">
          <!-- AI Tutor Panel -->
          <div class="ai-tutor-panel">
            <div class="tutor-header">
              <div class="ai-avatar-tutor">ü§ñ</div>
              <div class="tutor-info">
                <h3>AI Tutor</h3>
                <span class="tutor-status"
                  >ƒêang ph√¢n t√≠ch level c·ªßa b·∫°n...</span
                >
              </div>
              <div class="tutor-controls">
                <button class="tutor-btn" onclick="askAITutor()">
                  üí¨ H·ªèi AI
                </button>
                <button class="tutor-btn" onclick="getAIHint()">
                  üí° G·ª£i √Ω
                </button>
              </div>
            </div>

            <div class="learning-topics-ai">
              <h4>üéØ Ch·ªß ƒë·ªÅ AI ƒë·ªÅ xu·∫•t cho b·∫°n:</h4>
              <div class="topics-grid">
                <div
                  class="topic-card ai-recommended"
                  onclick="startAILesson('variables')"
                >
                  <div class="topic-icon">üî§</div>
                  <h5>Bi·∫øn & Ki·ªÉu D·ªØ Li·ªáu</h5>
                  <p>AI s·∫Ω d·∫°y b·∫°n c√°ch l∆∞u tr·ªØ th√¥ng tin</p>
                  <div class="ai-confidence">AI Confidence: 95%</div>
                  <div class="difficulty-ai">D·ªÖ</div>
                </div>

                <div class="topic-card" onclick="startAILesson('functions')">
                  <div class="topic-icon">‚öôÔ∏è</div>
                  <h5>H√†m & Ch·ª©c NƒÉng</h5>
                  <p>X√¢y d·ª±ng c√°c kh·ªëi code t√°i s·ª≠ d·ª•ng</p>
                  <div class="ai-confidence">AI Confidence: 87%</div>
                  <div class="difficulty-ai">Trung B√¨nh</div>
                </div>

                <div class="topic-card" onclick="startAILesson('loops')">
                  <div class="topic-icon">üîÑ</div>
                  <h5>V√≤ng L·∫∑p</h5>
                  <p>T·ª± ƒë·ªông h√≥a c√°c t√°c v·ª• l·∫∑p l·∫°i</p>
                  <div class="ai-confidence">AI Confidence: 78%</div>
                  <div class="difficulty-ai">Trung B√¨nh</div>
                </div>

                <div class="topic-card" onclick="startAILesson('algorithms')">
                  <div class="topic-icon">üß†</div>
                  <h5>Thu·∫≠t To√°n</h5>
                  <p>T∆∞ duy gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ</p>
                  <div class="ai-confidence">AI Confidence: 65%</div>
                  <div class="difficulty-ai">Kh√≥</div>
                </div>
              </div>
            </div>
          </div>

          <!-- AI Lesson Display -->
          <div class="ai-lesson-display">
            <div class="lesson-header">
              <h3 id="lesson-title">Ch√†o m·ª´ng ƒë·∫øn v·ªõi AI Tutor! üëã</h3>
              <div class="lesson-controls">
                <button class="lesson-btn" onclick="toggleAIExplanation()">
                  üîä AI Gi·∫£i Th√≠ch
                </button>
                <button class="lesson-btn" onclick="getPersonalizedHelp()">
                  üéØ Tr·ª£ Gi√∫p C√° Nh√¢n
                </button>
              </div>
            </div>

            <div class="lesson-content" id="lesson-content">
              <div class="ai-welcome-message">
                <div class="ai-mascot">ü§ñ</div>
                <div class="welcome-text">
                  <h4>Xin ch√†o! T√¥i l√† AI Tutor c·ªßa b·∫°n üöÄ</h4>
                  <p>
                    T√¥i s·∫Ω ph√¢n t√≠ch kh·∫£ nƒÉng c·ªßa b·∫°n v√† t·∫°o ra l·ªô tr√¨nh h·ªçc t·∫≠p
                    c√° nh√¢n h√≥a. H√£y ch·ªçn m·ªôt ch·ªß ƒë·ªÅ ƒë·ªÉ b·∫Øt ƒë·∫ßu!
                  </p>
                  <div class="ai-features">
                    <span class="feature">‚ú® H·ªçc th√≠ch ·ª©ng</span>
                    <span class="feature">üéØ C√° nh√¢n h√≥a</span>
                    <span class="feature">üìä Theo d√µi ti·∫øn ƒë·ªô</span>
                    <span class="feature">üí¨ H·ªó tr·ª£ 24/7</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- AI Practice Mode -->
      <section id="practice-section" class="ai-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">‚öîÔ∏è</span>
            AI Th√°ch ƒê·∫•u Coding
          </h2>
          <p class="section-subtitle">
            AI s·∫Ω t·∫°o ra c√°c th·ª≠ th√°ch ph√π h·ª£p v·ªõi tr√¨nh ƒë·ªô c·ªßa b·∫°n
          </p>
        </div>

        <div class="ai-practice-arena">
          <!-- Challenge Generator -->
          <div class="challenge-generator">
            <div class="generator-header">
              <h3>üéØ AI Challenge Generator</h3>
              <div class="ai-thinking-indicator">
                <div class="thinking-dots">
                  <span></span><span></span><span></span>
                </div>
                <span>AI ƒëang t·∫°o th·ª≠ th√°ch...</span>
              </div>
            </div>

            <div class="difficulty-selector">
              <h4>Ch·ªçn ƒë·ªô kh√≥ (AI s·∫Ω ƒëi·ªÅu ch·ªânh):</h4>
              <div class="difficulty-options">
                <button
                  class="difficulty-btn easy"
                  onclick="generateAIChallenge('easy')"
                >
                  <span class="diff-icon">üü¢</span>
                  <span>D·ªÖ</span>
                  <span class="ai-note">AI s·∫Ω h∆∞·ªõng d·∫´n chi ti·∫øt</span>
                </button>
                <button
                  class="difficulty-btn medium"
                  onclick="generateAIChallenge('medium')"
                >
                  <span class="diff-icon">üü°</span>
                  <span>Trung B√¨nh</span>
                  <span class="ai-note">AI s·∫Ω cho g·ª£i √Ω khi c·∫ßn</span>
                </button>
                <button
                  class="difficulty-btn hard"
                  onclick="generateAIChallenge('hard')"
                >
                  <span class="diff-icon">üî¥</span>
                  <span>Kh√≥</span>
                  <span class="ai-note">AI ch·ªâ can thi·ªáp khi b·∫°n y√™u c·∫ßu</span>
                </button>
              </div>
            </div>

            <div class="challenge-display" id="challenge-display">
              <div class="challenge-placeholder">
                <div class="placeholder-icon">üé≤</div>
                <h4>S·∫µn s√†ng cho th·ª≠ th√°ch AI?</h4>
                <p>Ch·ªçn ƒë·ªô kh√≥ ƒë·ªÉ AI t·∫°o ra th·ª≠ th√°ch ph√π h·ª£p v·ªõi b·∫°n</p>
              </div>
            </div>
          </div>

          <!-- AI Coding Arena -->
          <div class="ai-coding-arena">
            <div class="arena-header">
              <h3>üíª AI Coding Arena</h3>
              <div class="arena-controls">
                <button class="arena-btn" onclick="runCodeWithAI()">
                  ‚ñ∂Ô∏è Ch·∫°y & AI ƒê√°nh Gi√°
                </button>
                <button class="arena-btn" onclick="submitToAI()">
                  üöÄ N·ªôp cho AI
                </button>
                <button class="arena-btn" onclick="getAIHelp()">
                  üÜò AI Tr·ª£ Gi√∫p
                </button>
              </div>
            </div>

            <div class="code-editor-container">
              <div id="ai-code-editor" class="ai-code-editor"></div>
            </div>

            <div class="ai-feedback-panel">
              <div class="feedback-header">
                <span class="feedback-icon">ü§ñ</span>
                <span>AI Feedback Real-time</span>
              </div>
              <div class="feedback-content" id="ai-feedback">
                <p>AI s·∫Ω ƒë∆∞a ra ph·∫£n h·ªìi khi b·∫°n vi·∫øt code...</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- AI Quiz Mode -->
      <section id="quiz-section" class="ai-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">üß©</span>
            AI Quiz Th√¥ng Minh
          </h2>
          <p class="section-subtitle">
            AI t·∫°o c√¢u h·ªèi d·ª±a tr√™n nh·ªØng g√¨ b·∫°n ƒë√£ h·ªçc
          </p>
        </div>

        <div class="ai-quiz-system">
          <div class="quiz-stats">
            <div class="stat-card">
              <div class="stat-icon">üéØ</div>
              <div class="stat-info">
                <span class="stat-number" id="quiz-accuracy">0%</span>
                <span class="stat-label">ƒê·ªô ch√≠nh x√°c</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">‚ö°</div>
              <div class="stat-info">
                <span class="stat-number" id="quiz-speed">0s</span>
                <span class="stat-label">T·ªëc ƒë·ªô trung b√¨nh</span>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon">üèÜ</div>
              <div class="stat-info">
                <span class="stat-number" id="quiz-score">0</span>
                <span class="stat-label">ƒêi·ªÉm s·ªë</span>
              </div>
            </div>
          </div>

          <div class="quiz-arena">
            <div class="quiz-question-panel" id="quiz-panel">
              <div class="quiz-intro">
                <div class="intro-icon">üß†</div>
                <h3>AI Quiz Generator</h3>
                <p>
                  AI s·∫Ω t·∫°o ra c√°c c√¢u h·ªèi th√¥ng minh d·ª±a tr√™n kh·∫£ nƒÉng v√† ti·∫øn
                  ƒë·ªô h·ªçc t·∫≠p c·ªßa b·∫°n
                </p>
                <button class="start-quiz-btn" onclick="startAIQuiz()">
                  üöÄ B·∫Øt ƒë·∫ßu AI Quiz
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- AI Analysis Mode -->
      <section id="analysis-section" class="ai-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">üìä</span>
            AI Ph√¢n T√≠ch Ti·∫øn ƒê·ªô
          </h2>
          <p class="section-subtitle">
            AI ph√¢n t√≠ch to√†n di·ªán kh·∫£ nƒÉng v√† ƒë∆∞a ra l·ªùi khuy√™n
          </p>
        </div>

        <div class="ai-analysis-dashboard">
          <!-- Learning Path AI -->
          <div class="learning-path-ai">
            <h3>üõ§Ô∏è L·ªô Tr√¨nh H·ªçc AI ƒê·ªÅ Xu·∫•t</h3>
            <div class="path-visualization">
              <div class="path-node completed">
                <div class="node-icon">‚úÖ</div>
                <span>Bi·∫øn & Ki·ªÉu D·ªØ Li·ªáu</span>
              </div>
              <div class="path-connection"></div>
              <div class="path-node current">
                <div class="node-icon">üîÑ</div>
                <span>H√†m & Ch·ª©c NƒÉng</span>
              </div>
              <div class="path-connection"></div>
              <div class="path-node future">
                <div class="node-icon">‚è≥</div>
                <span>V√≤ng L·∫∑p</span>
              </div>
              <div class="path-connection"></div>
              <div class="path-node future">
                <div class="node-icon">‚è≥</div>
                <span>Thu·∫≠t To√°n</span>
              </div>
            </div>
          </div>

          <!-- AI Insights -->
          <div class="ai-insights">
            <h3>üîç AI Insights</h3>
            <div class="insights-grid">
              <div class="insight-card strength">
                <div class="insight-icon">üí™</div>
                <h4>ƒêi·ªÉm M·∫°nh</h4>
                <ul>
                  <li>Hi·ªÉu r√µ v·ªÅ bi·∫øn</li>
                  <li>Logic t∆∞ duy t·ªët</li>
                  <li>Ghi nh·ªõ syntax nhanh</li>
                </ul>
              </div>
              <div class="insight-card improvement">
                <div class="insight-icon">üìà</div>
                <h4>C·∫ßn C·∫£i Thi·ªán</h4>
                <ul>
                  <li>Thu·∫≠t to√°n ph·ª©c t·∫°p</li>
                  <li>Debug code</li>
                  <li>T·ªëi ∆∞u h√≥a code</li>
                </ul>
              </div>
              <div class="insight-card recommendation">
                <div class="insight-icon">üéØ</div>
                <h4>AI Khuy√™n B·∫°n</h4>
                <ul>
                  <li>T·∫≠p trung v√†o functions</li>
                  <li>Luy·ªán t·∫≠p debug</li>
                  <li>ƒê·ªçc code ng∆∞·ªùi kh√°c</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Leaderboard Section -->
      <section id="leaderboard-section" class="ai-section">
        <div class="section-header">
          <h2 class="section-title">
            <span class="title-icon">üëë</span>
            B·∫£ng X·∫øp H·∫°ng AI
          </h2>
          <p class="section-subtitle">
            Xem v·ªã tr√≠ c·ªßa b·∫°n v√† c·∫°nh tranh v·ªõi nh·ªØng AI learners kh√°c
          </p>
        </div>

        <div class="leaderboard-container">
          <div class="ranking-filters">
            <button class="filter-btn active" onclick="filterRanking('all')">
              T·ªïng Th·ªÉ
            </button>
            <button class="filter-btn" onclick="filterRanking('weekly')">
              Tu·∫ßn N√†y
            </button>
            <button class="filter-btn" onclick="filterRanking('monthly')">
              Th√°ng N√†y
            </button>
          </div>

          <div class="top-performers">
            <div class="podium">
              <div class="podium-place second">
                <div class="place-avatar">üë®‚Äçüíª</div>
                <div class="place-name">CodeNinja</div>
                <div class="place-score">2,450</div>
                <div class="place-medal">ü•à</div>
              </div>
              <div class="podium-place first">
                <div class="place-avatar">ü§ñ</div>
                <div class="place-name">AI Master</div>
                <div class="place-score">3,200</div>
                <div class="place-medal">ü•á</div>
              </div>
              <div class="podium-place third">
                <div class="place-avatar">üöÄ</div>
                <div class="place-name">SpeedCoder</div>
                <div class="place-score">2,100</div>
                <div class="place-medal">ü•â</div>
              </div>
            </div>
          </div>

          <div class="ranking-list">
            <div class="ranking-header">
              <span>H·∫°ng</span>
              <span>T√™n</span>
              <span>ƒêi·ªÉm</span>
              <span>Level</span>
              <span>Ti·∫øn ƒê·ªô</span>
            </div>
            <div class="ranking-body" id="ranking-list">
              <!-- Rankings will be populated by AI -->
            </div>
          </div>
        </div>
      </section>

      <!-- Ch·ª©c nƒÉng th√∫ v·ªã -->
      <section class="fun-zone">
        <div class="section-title">
          <h2>üéâ Khu v·ª±c gi·∫£i tr√≠</h2>
          <p>Nh·ªØng ho·∫°t ƒë·ªông th√∫ v·ªã ƒë·ªÉ h·ªçc l·∫≠p tr√¨nh kh√¥ng ch√°n!</p>
        </div>

        <div class="fun-activities">
          <!-- Code Battle -->
          <div class="activity-card battle-card" onclick="startCodeBattle()">
            <div class="card-header">
              <div class="activity-icon">‚öîÔ∏è</div>
              <h3>Code Battle</h3>
              <div class="live-indicator">LIVE</div>
            </div>
            <p>Th√°ch ƒë·∫•u l·∫≠p tr√¨nh 1v1 v·ªõi b·∫°n b√®</p>
            <div class="stats">
              <span>üèÜ 12 th·∫Øng</span>
              <span>üî• Streak: 5</span>
            </div>
            <button class="action-btn">B·∫Øt ƒë·∫ßu ƒë·∫•u!</button>
          </div>

          <!-- Code Art -->
          <div class="activity-card art-card" onclick="openCodeArt()">
            <div class="card-header">
              <div class="activity-icon">üé®</div>
              <h3>Code Art</h3>
              <div class="new-badge">M·ªöI</div>
            </div>
            <p>T·∫°o ra ngh·ªá thu·∫≠t t·ª´ code - v·∫Ω h√¨nh b·∫±ng l·∫≠p tr√¨nh</p>
            <div class="stats">
              <span>üñºÔ∏è 8 t√°c ph·∫©m</span>
              <span>‚ù§Ô∏è 45 l∆∞·ª£t th√≠ch</span>
            </div>
            <button class="action-btn">S√°ng t·∫°o</button>
          </div>

          <!-- Speed Coding -->
          <div class="activity-card speed-card" onclick="startSpeedCoding()">
            <div class="card-header">
              <div class="activity-icon">‚ö°</div>
              <h3>Speed Coding</h3>
              <div class="hot-badge">HOT</div>
            </div>
            <p>Th·ª≠ th√°ch t·ªëc ƒë·ªô g√µ code - c√†ng nhanh c√†ng t·ªët!</p>
            <div class="stats">
              <span>‚è±Ô∏è Best: 85 WPM</span>
              <span>üéØ 94% ƒë·ªô ch√≠nh x√°c</span>
            </div>
            <button class="action-btn">Th·ª≠ th√°ch!</button>
          </div>

          <!-- Code Quiz -->
          <div class="activity-card quiz-card" onclick="startCodeQuiz()">
            <div class="card-header">
              <div class="activity-icon">üß©</div>
              <h3>Code Quiz</h3>
            </div>
            <p>Ki·ªÉm tra ki·∫øn th·ª©c qua c√¢u h·ªèi th√∫ v·ªã</p>
            <div class="stats">
              <span>üèÖ Level 12</span>
              <span>üí° 89% ƒë√∫ng</span>
            </div>
            <button class="action-btn">L√†m quiz</button>
          </div>

          <!-- Debugging Game -->
          <div class="activity-card debug-card" onclick="playDebuggingGame()">
            <div class="card-header">
              <div class="activity-icon">üêû</div>
              <h3>Debugging Game</h3>
            </div>
            <p>T√¨m v√† s·ª≠a l·ªói trong code nh∆∞ th√°m t·ª≠!</p>
            <div class="stats">
              <span>üîç 67 bugs ƒë√£ s·ª≠a</span>
              <span>‚è∞ Th·ªùi gian: 2m 15s</span>
            </div>
            <button class="action-btn">B·∫Øt bug!</button>
          </div>

          <!-- Code Story -->
          <div class="activity-card story-card" onclick="createCodeStory()">
            <div class="card-header">
              <div class="activity-icon">üìö</div>
              <h3>Code Story</h3>
              <div class="creative-badge">S√ÅNG T·∫†O</div>
            </div>
            <p>Vi·∫øt c√¢u chuy·ªán b·∫±ng code - k·∫øt h·ª£p l·∫≠p tr√¨nh v√† vƒÉn h·ªçc</p>
            <div class="stats">
              <span>‚úçÔ∏è 4 c√¢u chuy·ªán</span>
              <span>üåü 156 ƒë·ªçc gi·∫£</span>
            </div>
            <button class="action-btn">Vi·∫øt chuy·ªán</button>
          </div>
        </div>
      </section>
    </main>

    <!-- AI Assistant Widget -->
    <div class="ai-assistant-widget" id="ai-assistant">
      <div class="assistant-trigger" onclick="toggleAIAssistant()">
        <div class="ai-pulse"></div>
        <span>ü§ñ</span>
      </div>
      <div class="assistant-panel" id="assistant-panel">
        <div class="assistant-header">
          <h4>AI Assistant</h4>
          <button onclick="closeAIAssistant()">√ó</button>
        </div>
        <div class="assistant-chat" id="assistant-chat">
          <div class="chat-message ai-message">
            <span>Ch√†o b·∫°n! T√¥i c√≥ th·ªÉ gi√∫p g√¨ cho b·∫°n? ü§ñ</span>
          </div>
        </div>
        <div class="assistant-input">
          <input
            type="text"
            id="ai-input"
            placeholder="H·ªèi AI b·∫•t c·ª© ƒëi·ªÅu g√¨..."
          />
          <button onclick="sendToAI()">G·ª≠i</button>
        </div>
      </div>
    </div>

    <!-- AI Notification System -->
    <div class="ai-notifications" id="ai-notifications">
      <!-- Notifications will appear here -->
    </div>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>
    <script>
      // Language selection function
      function selectLanguageWithAI(language) {
        console.log(`ü§ñ AI switching to ${language}!`);

        // Update currentLanguage in dashboard.js
        if (typeof window.currentLanguage !== "undefined") {
          window.currentLanguage = language.toLowerCase();
        }

        // Update editor language
        if (window.aiEditor && window.aiEditor.getModel) {
          const languageMap = {
            Python: "python",
            JavaScript: "javascript",
            Java: "java",
            "C++": "cpp",
            Rust: "rust",
          };
          try {
            monaco.editor.setModelLanguage(
              window.aiEditor.getModel(),
              languageMap[language] || "python"
            );
          } catch (error) {
            console.log(
              "Language change will apply on next editor initialization"
            );
          }
        }
      }

      // These functions are now handled by dashboard.js
      // Keeping only essential HTML-specific functions here

      function toggleAIAssistant() {
        const panel = document.getElementById("assistant-panel");
        panel.classList.toggle("active");
      }

      function closeAIAssistant() {
        document.getElementById("assistant-panel").classList.remove("active");
      }

      function sendToAI() {
        const input = document.getElementById("ai-input");
        const chat = document.getElementById("assistant-chat");

        if (input.value.trim()) {
          // Add user message
          chat.innerHTML += `<div class="chat-message user-message"><span>${input.value}</span></div>`;

          // Simulate AI response
          setTimeout(() => {
            chat.innerHTML += `<div class="chat-message ai-message"><span>ü§ñ T√¥i hi·ªÉu r·ªìi! ƒê·ªÉ gi√∫p b·∫°n t·ªët h∆°n, b·∫°n c√≥ th·ªÉ cung c·∫•p th√™m chi ti·∫øt kh√¥ng?</span></div>`;
            chat.scrollTop = chat.scrollHeight;
          }, 1000);

          input.value = "";
          chat.scrollTop = chat.scrollHeight;
        }
      }

      // Initialize when page loads
      window.addEventListener("DOMContentLoaded", function () {
        initializeAIEditor();
        activateAIMode("learning");

        // Matrix rain effect
        createMatrixRain();

        // Start AI animations
        startAIAnimations();

        showAINotification(
          "ü§ñ Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi CodeQuest AI Dashboard!",
          "success"
        );
      });

      function createMatrixRain() {
        const matrixContainer = document.querySelector(".matrix-rain");
        const characters = "01";

        for (let i = 0; i < 50; i++) {
          const column = document.createElement("div");
          column.className = "matrix-column";
          column.style.left = Math.random() * 100 + "%";
          column.style.animationDelay = Math.random() * 5 + "s";
          column.style.animationDuration = Math.random() * 3 + 2 + "s";

          for (let j = 0; j < 20; j++) {
            const char = document.createElement("span");
            char.textContent =
              characters[Math.floor(Math.random() * characters.length)];
            char.style.opacity = Math.random();
            column.appendChild(char);
          }

          matrixContainer.appendChild(column);
        }
      }

      function startAIAnimations() {
        // Pulse AI indicators
        setInterval(() => {
          document.querySelectorAll(".ai-activity-dot").forEach((dot) => {
            dot.style.animation = "none";
            setTimeout(() => (dot.style.animation = "aiPulse 2s infinite"), 10);
          });
        }, 3000);
      }

      // ==================== FUN ZONE FUNCTIONS ====================

      function startCodeBattle() {
        showNotification("‚öîÔ∏è ƒêang t√¨m ki·∫øm ƒë·ªëi th·ªß x·ª©ng t·∫ßm...", "info");

        setTimeout(() => {
          const opponents = [
            "DevNinja",
            "CodeMaster",
            "AlgoWizard",
            "BugSlayer",
            "SyntaxHero",
          ];
          const randomOpponent =
            opponents[Math.floor(Math.random() * opponents.length)];
          showNotification(
            `üéØ ƒê·ªëi th·ªß t√¨m th·∫•y: ${randomOpponent}! Battle b·∫Øt ƒë·∫ßu!`,
            "success"
          );

          // Simulate battle countdown
          let countdown = 3;
          const countdownInterval = setInterval(() => {
            showNotification(
              `üöÄ Battle b·∫Øt ƒë·∫ßu trong ${countdown}...`,
              "warning"
            );
            countdown--;
            if (countdown < 0) {
              clearInterval(countdownInterval);
              showNotification("‚ö° GO! Code nh∆∞ gi√≥ th√¥i!", "success");
            }
          }, 1000);
        }, 2000);
      }

      function openCodeArt() {
        showNotification("üé® M·ªü CodeArt Studio...", "info");

        setTimeout(() => {
          const artTypes = [
            "V·∫Ω mandala b·∫±ng v√≤ng l·∫∑p for",
            "T·∫°o fracttal Sierpinski triangle",
            "Code m·ªôt b√¥ng hoa h∆∞·ªõng d∆∞∆°ng xoay",
            "V·∫Ω s√≥ng sine ƒë·∫ßy m√†u s·∫Øc",
          ];
          const randomArt =
            artTypes[Math.floor(Math.random() * artTypes.length)];
          showNotification(`‚ú® √ù t∆∞·ªüng h√¥m nay: ${randomArt}`, "success");
        }, 1500);
      }

      function startSpeedCoding() {
        showNotification("‚ö° Chu·∫©n b·ªã Speed Coding Challenge...", "info");

        setTimeout(() => {
          showNotification(
            "üèÅ ƒê·ªÅ b√†i: Vi·∫øt h√†m t√¨m s·ªë nguy√™n t·ªë trong 60 gi√¢y!",
            "warning"
          );

          // Simulate typing test
          let timeLeft = 60;
          const timer = setInterval(() => {
            if (timeLeft > 0) {
              showNotification(
                `‚è∞ C√≤n ${timeLeft} gi√¢y! G√µ nhanh l√™n!`,
                "info"
              );
              timeLeft -= 10;
            } else {
              clearInterval(timer);
              const wpm = Math.floor(Math.random() * 30) + 60;
              showNotification(`üéâ Ho√†n th√†nh! T·ªëc ƒë·ªô: ${wpm} WPM`, "success");
            }
          }, 10000);
        }, 1000);
      }

      function startCodeQuiz() {
        showNotification("üß† T·∫£i c√¢u h·ªèi quiz...", "info");

        const questions = [
          "Python ƒë∆∞·ª£c t·∫°o ra b·ªüi ai?",
          "Big O c·ªßa Binary Search l√† g√¨?",
          "S·ª± kh√°c bi·ªát gi·ªØa == v√† === trong JavaScript?",
          "Stack v√† Queue kh√°c nhau nh∆∞ th·∫ø n√†o?",
        ];

        setTimeout(() => {
          const randomQ =
            questions[Math.floor(Math.random() * questions.length)];
          showNotification(`‚ùì C√¢u h·ªèi: ${randomQ}`, "warning");

          setTimeout(() => {
            const correct = Math.random() > 0.3;
            if (correct) {
              showNotification("‚úÖ Ch√≠nh x√°c! +10 ƒëi·ªÉm", "success");
            } else {
              showNotification("‚ùå Sai r·ªìi! H·ªçc th√™m nh√©", "error");
            }
          }, 3000);
        }, 1000);
      }

      function playDebuggingGame() {
        showNotification("üîç Kh·ªüi ƒë·ªông Detective Mode...", "info");

        const bugs = [
          "Missing semicolon ·ªü d√≤ng 23",
          "Variable 'user' ch∆∞a ƒë∆∞·ª£c khai b√°o",
          "Infinite loop trong h√†m calculateSum()",
          "Array index out of bounds",
        ];

        setTimeout(() => {
          const randomBug = bugs[Math.floor(Math.random() * bugs.length)];
          showNotification(`üêõ Bug ph√°t hi·ªán: ${randomBug}`, "error");

          setTimeout(() => {
            showNotification("üîß Bug ƒë√£ ƒë∆∞·ª£c fix! +15 XP", "success");
          }, 2500);
        }, 1500);
      }

      function createCodeStory() {
        showNotification("üìö M·ªü Code Story Editor...", "info");

        const storyPrompts = [
          "Vi·∫øt v·ªÅ cu·ªôc phi√™u l∆∞u c·ªßa m·ªôt array ƒëi t√¨m missing element",
          "C√¢u chuy·ªán t√¨nh y√™u gi·ªØa HTML v√† CSS",
          "H√†nh tr√¨nh c·ªßa m·ªôt bug t·ª´ l√∫c ƒë∆∞·ª£c sinh ra ƒë·∫øn khi b·ªã fix",
          "Cu·ªôc s·ªëng b√≠ m·∫≠t trong m·ªôt database",
        ];

        setTimeout(() => {
          const randomPrompt =
            storyPrompts[Math.floor(Math.random() * storyPrompts.length)];
          showNotification(`‚úçÔ∏è Ch·ªß ƒë·ªÅ h√¥m nay: ${randomPrompt}`, "success");

          setTimeout(() => {
            showNotification(
              "üìñ Story ƒë∆∞·ª£c l∆∞u! Chia s·∫ª v·ªõi c·ªông ƒë·ªìng nh√©",
              "success"
            );
          }, 3000);
        }, 1000);
      }

      // Notification helper
      function showNotification(message, type = "info") {
        const notification = document.createElement("div");
        notification.className = `notification ${type}`;

        const colors = {
          info: "var(--ai-secondary)",
          success: "var(--ai-success)",
          warning: "var(--ai-warning)",
          error: "var(--ai-danger)",
        };

        notification.innerHTML = `
          <div class="notification-content">
            <span>${message}</span>
            <button onclick="this.parentElement.parentElement.remove()" class="close-btn">√ó</button>
          </div>
        `;

        notification.style.cssText = `
          position: fixed;
          top: 20px;
          right: 20px;
          background: ${colors[type]};
          color: var(--primary-white);
          padding: var(--spacing-md);
          border-radius: var(--radius-md);
          box-shadow: var(--ai-glow-accent);
          z-index: 10000;
          max-width: 350px;
          font-family: var(--font-sans);
          font-size: 0.9rem;
          animation: slideInRight 0.3s ease;
          margin-bottom: var(--spacing-sm);
        `;

        // Stack multiple notifications
        const existingNotifications =
          document.querySelectorAll(".notification");
        if (existingNotifications.length > 0) {
          const topOffset = 20 + existingNotifications.length * 80;
          notification.style.top = topOffset + "px";
        }

        document.body.appendChild(notification);

        // Auto remove after 4 seconds
        setTimeout(() => {
          if (notification.parentElement) {
            notification.style.animation = "slideOutRight 0.3s ease";
            setTimeout(() => notification.remove(), 300);
          }
        }, 4000);
      }

      // All AI functions are now handled by dashboard.js
    </script>
    <script src="../assets/js/dashboard.js"></script>
  </body>
</html>
