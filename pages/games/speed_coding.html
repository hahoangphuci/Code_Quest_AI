<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Speed Coding Arena - CodeQuest AI</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Import CSS Files -->
    <link href="../../assets/css/code_battle.css" rel="stylesheet" />
    <link href="../../assets/css/speed_coding.css" rel="stylesheet" />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="header-container">
        <a href="#" class="logo">
          <i class="fas fa-brain"></i>
          <span>CodeQuest AI</span>
        </a>
        <a href="/dashboard" class="back-btn">
          <i class="fas fa-arrow-left"></i>
          <span>Quay l·∫°i Dashboard</span>
        </a>
      </div>
    </header>

    <!-- Main Content -->
    <main class="speed-coding-container">
      <!-- Challenge Selection Screen -->
      <div id="challenge-selection" class="section">
        <div class="section-header">
          <h1>‚ö° Speed Coding Arena</h1>
          <p>
            AI s·∫Ω t·∫°o ƒë·ªÅ b√†i coding ƒë·ªôc ƒë√°o cho t·ª´ng c·∫•p ƒë·ªô. Ch·ªçn th·ª≠ th√°ch v√†
            th·ªÉ hi·ªán t·ªëc ƒë·ªô typing c·ªßa b·∫°n!
          </p>
        </div>

        <div class="ai-grid">
          <!-- Beginner Challenge -->
          <div class="ai-card" onclick="selectChallenge('beginner')">
            <div class="difficulty-badge easy">D·ªÖ D√†ng</div>
            <div class="ai-avatar">üê£</div>
            <div class="ai-info">
              <h3>Sprint Rookie</h3>
              <div class="ai-level">C·∫•p ƒë·ªô: Ng∆∞·ªùi m·ªõi b·∫Øt ƒë·∫ßu</div>
              <div class="ai-stats">
                <span>Th·ªùi gian: 2 ph√∫t</span>
                <span>WPM m·ª•c ti√™u: 15+</span>
              </div>
              <p class="ai-description">
                Challenge ho√†n h·∫£o cho ng∆∞·ªùi m·ªõi. C√°c b√†i t·∫≠p c∆° b·∫£n v·ªõi syntax
                ƒë∆°n gi·∫£n v√† th·ªùi gian tho·∫£i m√°i.
              </p>
            </div>
          </div>

          <!-- Intermediate Challenge -->
          <div class="ai-card" onclick="selectChallenge('intermediate')">
            <div class="difficulty-badge medium">Trung B√¨nh</div>
            <div class="ai-avatar">üöÄ</div>
            <div class="ai-info">
              <h3>Code Racer</h3>
              <div class="ai-level">C·∫•p ƒë·ªô: Trung c·∫•p</div>
              <div class="ai-stats">
                <span>Th·ªùi gian: 3 ph√∫t</span>
                <span>WPM m·ª•c ti√™u: 25+</span>
              </div>
              <p class="ai-description">
                Th√°ch th·ª©c v·ªõi algorithms ph·ª©c t·∫°p h∆°n. C·∫ßn t·ªëc ƒë·ªô v√† ƒë·ªô ch√≠nh
                x√°c cao ƒë·ªÉ chi·∫øn th·∫Øng.
              </p>
            </div>
          </div>

          <!-- Expert Challenge -->
          <div class="ai-card" onclick="selectChallenge('expert')">
            <div class="difficulty-badge hard">Kh√≥</div>
            <div class="ai-avatar">‚ö°</div>
            <div class="ai-info">
              <h3>Lightning Coder</h3>
              <div class="ai-level">C·∫•p ƒë·ªô: Chuy√™n gia</div>
              <div class="ai-stats">
                <span>Th·ªùi gian: 4 ph√∫t</span>
                <span>WPM m·ª•c ti√™u: 40+</span>
              </div>
              <p class="ai-description">
                Ch·ªâ d√†nh cho c√°c cao th·ªß! Code ph·ª©c t·∫°p v·ªõi th·ªùi gian gi·ªõi h·∫°n
                nghi√™m ng·∫∑t.
              </p>
            </div>
          </div>

          <!-- Tournament Mode -->
          <div class="ai-card special" onclick="selectChallenge('tournament')">
            <div class="difficulty-badge legendary">Gi·∫£i ƒê·∫•u</div>
            <div class="ai-avatar">üèÜ</div>
            <div class="ai-info">
              <h3>Speed Championship</h3>
              <div class="ai-level">C·∫•p ƒë·ªô: Huy·ªÅn tho·∫°i</div>
              <div class="ai-stats">
                <span>Th·ªùi gian: 5 ph√∫t</span>
                <span>WPM m·ª•c ti√™u: 60+</span>
              </div>
              <p class="ai-description">
                Gi·∫£i ƒë·∫•u t·ªëi cao cho nh·ªØng master coder. Algorithms n√¢ng cao v√†
                pressure c·ª±c ƒë·∫°i!
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Speed Coding Arena -->
      <div id="speed-arena" class="section">
        <div class="arena-container">
          <div class="arena-header">
            <h2>‚ö° Speed Arena</h2>
          </div>

          <!-- Challenge Information -->
          <div id="challenge-info" class="challenge-info-panel">
            <!-- Dynamic content will be inserted here -->
          </div>

          <!-- Arena Content -->
          <div class="arena-content">
            <!-- Target Code Display -->
            <div class="arena-section">
              <div class="section-title">
                <i class="fas fa-target"></i>
                <span>üéØ Code M·∫´u</span>
              </div>
              <div class="code-display">
                <pre id="code-target"></pre>
              </div>
            </div>

            <!-- Code Editor -->
            <div class="arena-section">
              <div class="section-title">
                <i class="fas fa-keyboard"></i>
                <span>‚å®Ô∏è Code C·ªßa B·∫°n</span>
              </div>
              <div class="code-editor-container">
                <textarea
                  id="speed-code-editor"
                  class="code-editor"
                  placeholder="B·∫Øt ƒë·∫ßu g√µ code ph√≠a tr√™n..."
                ></textarea>
              </div>
            </div>
          </div>

          <!-- Stats Display -->
          <div class="arena-stats">
            <div class="stat-item">
              <div class="stat-icon">
                <i class="fas fa-clock"></i>
              </div>
              <div class="stat-info">
                <div class="stat-label">‚è∞ Th·ªùi Gian</div>
                <div id="timer-display" class="stat-value">00:00</div>
              </div>
            </div>

            <div class="stat-item">
              <div class="stat-icon">
                <i class="fas fa-tachometer-alt"></i>
              </div>
              <div class="stat-info">
                <div class="stat-label">üöÄ T·ªëc ƒê·ªô</div>
                <div id="wpm-display" class="stat-value">0</div>
              </div>
            </div>

            <div class="stat-item">
              <div class="stat-icon">
                <i class="fas fa-bullseye"></i>
              </div>
              <div class="stat-info">
                <div class="stat-label">üéØ Ch√≠nh X√°c</div>
                <div id="accuracy-display" class="stat-value">100%</div>
              </div>
            </div>

            <div class="stat-item">
              <div class="stat-icon">
                <i class="fas fa-fire"></i>
              </div>
              <div class="stat-info">
                <div class="stat-label">üî• Chu·ªói Th·∫Øng</div>
                <div id="streak-display" class="stat-value">0</div>
              </div>
            </div>
          </div>

          <!-- Arena Controls -->
          <div class="arena-controls">
            <button class="btn-secondary start-btn" onclick="startGame()">
              <i class="fas fa-play"></i>
              üöÄ B·∫Øt ƒê·∫ßu
            </button>
            <button class="btn-warning reset-btn" onclick="resetGame()">
              <i class="fas fa-redo"></i>
              üîÑ L√†m L·∫°i
            </button>
            <button class="btn-secondary" onclick="backToSelection()">
              <i class="fas fa-arrow-left"></i>
              üè† V·ªÅ Menu
            </button>
          </div>
        </div>
      </div>

      <!-- Results Screen -->
      <div id="results-screen" class="section">
        <div class="results-container">
          <div class="results-header">
            <h2>üèÜ Challenge Complete!</h2>
          </div>

          <div class="results-stats">
            <div class="result-item">
              <h4>‚è∞ Th·ªùi Gian</h4>
              <div id="final-time" class="value">--:--</div>
            </div>
            <div class="result-item">
              <h4>üöÄ T·ªëc ƒê·ªô G√µ</h4>
              <div id="final-wpm" class="value">-- WPM</div>
            </div>
            <div class="result-item">
              <h4>üéØ ƒê·ªô Ch√≠nh X√°c</h4>
              <div id="final-accuracy" class="value">--%</div>
            </div>
            <div class="result-item">
              <h4>‚≠ê ƒêi·ªÉm S·ªë</h4>
              <div id="final-score" class="value">--</div>
            </div>
          </div>

          <div id="performance-level" class="performance-section">
            <!-- Dynamic performance message -->
          </div>

          <div class="achievements-section">
            <h4>üéñÔ∏è Achievements</h4>
            <div id="achievements-list" class="achievements-list">
              <!-- Dynamic achievements -->
            </div>
          </div>

          <div class="results-actions">
            <button class="btn-primary" onclick="playAgain()">
              <i class="fas fa-redo"></i>
              üîÑ Ch∆°i L·∫°i
            </button>
            <button
              class="btn-secondary"
              onclick="selectChallenge(currentChallenge?.level?.toLowerCase() || 'beginner')"
            >
              <i class="fas fa-random"></i>
              üé≤ ƒê·ªÅ M·ªõi
            </button>
            <button class="btn-secondary" onclick="backToSelection()">
              <i class="fas fa-home"></i>
              üè† V·ªÅ Menu
            </button>
          </div>
        </div>
      </div>
    </main>

    <!-- Notification System -->
    <div id="notification" class="notification">
      <!-- Dynamic notifications -->
    </div>

    <!-- Import JavaScript -->
    <script src="../../assets/js/speed_coding.js"></script>
  </body>
</html>
